(function(){var e={10260:function(e,t,n){"use strict";var i=n(49242),r=n(83068),o=n(42801),s=(n(49072),n(73396));function a(e,t,n,i,r,o){const a=(0,s.up)("TitleBar"),d=(0,s.up)("DocumentCanvas"),c=(0,s.up)("PointerTracker"),l=(0,s.up)("Debug");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(a),(0,s.Wm)(d),(0,s.Wm)(c),r.debug?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0)],64)}var d=n(34024),c=n.n(d),l=n(64892),u=n.n(l),h=n(44870),p=n(70691);function g(e,t,n){const i=t.split("."),r=i.length-1;for(let s=0;s<r;++s){const t=i[s];e=e[t]??(e[t]={})}const o=i[r];return void 0!==n&&(e[o]=n),e[o]}var m=n(46866),f=n(61346),y=n(85697),v=n(83089);class w{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e]?.filter((e=>t!==e))}}emit(e,...t){const n=this.events[e]||[];n.forEach((e=>e(...t)))}}n(21703),n(48675),n(37380),n(1118);var k=n(70567),b=n(15941);class D extends w{constructor(e,t,i,r,o){if(super(),this.doc=t,this.filePath=e,this.timeout=null,this.debounce=o,c()()){const{readFile:e,writeFile:t,access:i}=n(21510);this.readFile=e,this.writeFile=t,this.access=i}else{if(!r)throw new Error("LocalFilePersistence is designed to be used in Electron. Either make sure you are calling this class in an Electron environment, or provide your own async fs implementation.");{const{readFile:e,writeFile:t,access:n}=r;this.readFile=e,this.writeFile=t,this.access=n}}this.filePath?this.access(this.filePath).then((()=>{i?this.saveToDisk():this.readFile(this.filePath).then((e=>{(0,k.NG)(this.doc,Uint8Array.from(e)),this.emit("synced")}))})).catch((()=>{this.saveToDisk()})):this.emit("synced"),this.doc.on("update",this.triggerAutosave.bind(this))}triggerAutosave(){this.debounce&&(this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout((()=>{this.filePath&&(b.log("[LocalFilePersistence][triggerAutosave@timeout] Saving to disk."),this.saveToDisk())}),this.debounce))}saveToDisk(){this.filePath&&(this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.emit("save"),this.writeFile(this.filePath,(0,k.D$)(this.doc)).then((()=>{this.emit("saved")})))}}var x=n(15941);(0,f.QB)(m);class S extends w{constructor(e){super(),this.syncInitialized=!1,this.storeStructure=e,this.store=(0,f.wI)(e),this.localData=(0,h.qj)({...e}),this.remoteUpdated=!1,x.warn=()=>null}initSync(e){x.log(`[Sync][initSync] Initializing sync with docID ${e}.`),this.users=(0,h.qj)({}),this.store.metadata.id=e||(0,p.x0)();const t=(0,f.mL)(this.store);this.syncProvider=new y.x$(this.store.metadata.id,t),x.log("[Sync][initSync]."),this.syncProvider.awareness.on("change",this.handleChanges.bind(this)),this.userId=(0,p.x0)(),this.syncProvider.awareness.setLocalStateField("id",this.userId),this.localUser=(0,h.qj)(this.users[this.userId]),this.syncInitialized=!0}initPersistence(e,t){const n=(0,f.mL)(this.store);this.saveProvider=c()()?new D(e,n,t):new v.H7(e||this.store.metadata.id,n),this.saveProvider.on("synced",(()=>{x.log("[Sync][saveProvider@synced] Save provider synced.",this.store.metadata.id),this.syncInitialized||this.initSync(this.store.metadata.id),this.emit("synced")})),this.saveProvider.on("save",(()=>{x.log("[Sync][saveProvider@synced] Saving to disk..."),this.emit("save")})),this.saveProvider.on("saved",(()=>{x.log("[Sync][saveProvider@synced] Save provider saved."),this.emit("saved")}))}close(){this.syncProvider.destroy()}updateAwareness(e,t){this.syncInitialized&&this.syncProvider.awareness.setLocalStateField(e,t)}registerAwarenessCallback(e,t){this.syncProvider.awareness.on(e,t)}handleChanges(){const e=[...this.syncProvider.awareness.getStates().values()],t=new Set,n=new Set(Object.keys(this.users));e.forEach((e=>{t.add(e.id),n.delete(e.id),this.users[e.id]||(this.users[e.id]={}),Object.entries(e).forEach((([t,n])=>{this.users[e.id][t]=n}))})),n.forEach((e=>delete this.users[e]))}stringify(){return JSON.stringify(this.store)}}var j=n(15941);class N extends S{constructor(e){super(e),this.inverses={},this.undoStack=[],this.redoStack=[],this.previousTime=-1,this.captureTimeout=50}registerInverses(e,t){this.inverses[e]=t,this.inverses[t]=e}commit(e,t){let n=null;const i=this[e].bind(this);if(void 0===i)return void j.error(`[Undo][Commit] There is no method called ${e}() on this object:`,this);if(n=i(t),!n)return;const r=Date.now();Math.abs(r-this.previousTime)<this.captureTimeout?(j.log("[Undo][Commit] Capturing."),Array.isArray(this.undoStack[this.undoStack.length-1])||(this.undoStack[this.undoStack.length-1]=[this.undoStack[this.undoStack.length-1]]),this.undoStack[this.undoStack.length-1].push({action:e,inverseParams:n})):this.undoStack.push({action:e,inverseParams:n}),this.previousTime=r,this.redoStack=[],this.emit("commit",e,t)}popStackItem(e,t){if(e.length<=0)return;let n=e.pop();if(!n)return;Array.isArray(n)||(n=[n]);const i=[];n.reverse().forEach((e=>{const t=this.inverses[e.action];if(!t)return void j.error(`There is no registered inverse for ${e.action}().`);let n;const r=this[t].bind(this);void 0!==r?n=r(e.inverseParams):j.error(`There is no method called ${t}() on this object:`,this),i.push({action:t,inverseParams:n})})),t.push(1===i.length?i[0]:i)}undo(){this.popStackItem(this.undoStack,this.redoStack)}redo(){this.popStackItem(this.redoStack,this.undoStack)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}}var E=n(82482);class P{}(0,E.Z)(P,"Note","note"),(0,E.Z)(P,"Reference","reference"),(0,E.Z)(P,"Area","area");var C=n(15941);class W extends N{constructor(){super({metadata:{},nodes:{},links:{},fragment:"xml"}),this.remoteSelection=(0,h.qj)(new Set),this.registerInverses("createNode","deleteNode"),this.registerInverses("createNodes","deleteNodes"),this.registerInverses("updateNode","updateNode"),this.registerInverses("updateNodes","updateNodes"),this.registerInverses("snapNode","unsnapNode"),this.registerInverses("createLink","removeLink")}createNode(e,t){t=t||this.store;const n=e.id?e.id:(0,p.x0)(),i={id:n,type:e.type,content:e.content,links:[],parent:null,children:[],identifier:null,literature:null,x:e.x?e.x:0,y:e.y?e.y:0,w:e.w?e.w:200};return e.links&&e.links.forEach((e=>this.createLink(e,t))),e.children&&e.children.forEach((e=>this.snapNode(e,t))),t.nodes[n]=i,n}createNodes(e,t){t=t||this.store;const n=[],i=[],r=[];return e.forEach((e=>{e.links&&(e.links.forEach((e=>i.push(e))),delete e.links),e.children&&(e.children.forEach((e=>r.push(e))),delete e.children);const o=this.createNode(e,t);n.push(o)})),i.forEach((e=>this.createLink(e,t))),r.forEach((e=>this.snapNode(e,t))),n}deleteNode(e,t){t=t||this.store;const n={...t.nodes[e]},i=[],r=[];return n.links.forEach((e=>{i.push(this.removeLink(e,t))})),n.children.forEach((e=>{r.push(this.unsnapNode({source:n.id,target:e},t))})),n.links=i,n.children=r,delete t.nodes[e],n}deleteNodes(e,t){t=t||this.store;const n=[];return e.forEach((e=>{const i=this.deleteNode(e,t);n.push(i)})),n}updateNode(e,t){t=t||this.store;const n=t.nodes[e.id],i={id:e.id};return e.by&&(i.by={},Object.entries(e.by).forEach((([e,t])=>{const r=g(n,e);"number"===typeof r?(g(n,e,r+t),i.by[e]=-r):C.error("Only number properties can be updated by a number!")}))),e.set&&(i.set={},Object.entries(e.set).forEach((([e,t])=>{const r=g(n,e);g(n,e,t),i.set[e]=r}))),i}updateNodes(e,t){t=t||this.store;const n={id:[...e.id]};return e.by&&(n.by={},Object.entries(e.by).forEach((([e,t])=>{n.by[e]=-t})),e.id.forEach((n=>{this.updateNode({id:n,by:e.by},t)}))),e.set&&(n.set={},e.id.forEach((i=>{n.set[i]={};const r=t.nodes[i];Object.keys(e.set[i]).forEach((e=>{n.set[i][e]=g(r,e)})),this.updateNode({id:i,set:e.set[i]},t)}))),n}snapNode(e,t){t=t||this.store;const n={};if(!e.source||!e.target)return!1;const i=t.nodes[e.source],r=t.nodes[e.target];return(i.type===P.Area||0===i.children.length)&&(i.children.push(e.target),i.children.filter(((e,t)=>i.children.indexOf(e)===t)),r.parent=i.id,n.source=e.source,n.target=e.target),!!n.source&&n}unsnapNode(e,t){t=t||this.store;const n={};if(!e.source||!e.target)return!1;const i=t.nodes[e.source],r=t.nodes[e.target],o=i.children.indexOf(e.target);return o>-1&&(i.children.splice(o,1),r.parent=null,n.source=e.source,n.target=e.target),!!n.source&&n}createLink(e,t){t=t||this.store;const n=t.nodes[e.source],i=t.nodes[e.target],r=e.id?e.id:(0,p.x0)(),o={id:r,source:e.source,target:e.target};return t.links[r]=o,n.links.push(r),n.links.filter(((e,t)=>n.links.indexOf(e)===t)),i.links.push(r),i.links.filter(((e,t)=>i.links.indexOf(e)===t)),r}removeLink(e,t){t=t||this.store;const n={...t.links[e]},i=t.nodes[n.source],r=t.nodes[n.target];return i.links.splice(i.links.indexOf(e),1),r.links.splice(r.links.indexOf(e),1),delete t.links[e],n}findLinkByNodeIds(e,t){const n=Object.keys(this.store.links).filter((n=>{const i=this.store.links[n];return i.source===e&&i.target===t}));return n.length>0&&n[0]}saveToDisk(){this.saveProvider.saveToDisk&&this.saveProvider.saveToDisk()}}var I=n(31552),L=n(33371);const T={initial:"Idle",states:{Idle:{on:{"editing title":"TitleEditing","space pressed":{target:"Panning",actions:"setPanning"},"start dragging":{target:"Dragging",actions:"setDragging"},"start linking":{target:"Linking",actions:"setLinking"},"update selection":{target:"Selecting",actions:"setSelection"},"create node":{target:"#Intrigue.Editing",actions:"setEditing"},"delete node":{target:"Idle",actions:"clearSelection"},"dblclick node":{target:"#Intrigue.Editing",actions:"setEditing"}}},TitleEditing:{on:{"stop editing title":"Idle"}},Panning:{on:{"space released":{target:"Idle",actions:"clearPanning"}}},Selecting:{on:{"update selection":{target:"Selecting",actions:"setSelection"},"done selecting":{target:"Idle"}}},Dragging:{on:{"drop enter":{target:"Dropping",actions:"setDropping"},"stop dragging":{target:"Idle",actions:["clearDragging","clearDetaching"]},"start detaching":{target:"Detaching",actions:"setDetaching"}}},Dropping:{on:{"drop leave":{target:"Dragging",actions:"clearDropping"},"stop dragging":{target:"Idle",actions:["clearDragging","clearDropping"]}}},Detaching:{on:{detached:{target:"Dragging",actions:"clearDetaching"},"stop detaching":{target:"Idle",actions:"clearDetaching"}}},Linking:{on:{"update selection":{target:"Idle",actions:["clearLinking","setSelection"]},"click on empty canvas":{target:"Idle",actions:"clearLinking"},"create node":{target:"#Intrigue.Editing",actions:["clearLinking","setEditing"]}}}}},H={initial:"Editing",states:{Editing:{on:{"editor blur":{target:"#Intrigue.Viewing",actions:"clearEditing"},"update selection":{target:"#Intrigue.Viewing",actions:["clearEditing","setSelection"]}}}}},Y={initial:"Selected",states:{Selected:{on:{"click on empty canvas":"#Intrigue.Viewing","drag node handle":"Resizing"}},Resizing:{on:{"drag end":"Selected"}}}},z=(0,I.C)({id:"Intrigue",initial:"Viewing",states:{Viewing:{...T},Arranging:{...Y},Editing:{...H}},context:{editing:null,panning:!1,dragging:null,dropping:null,selection:[],detaching:[],linking:null}},{actions:{setEditing:(0,L.f0)({editing:(e,t)=>e.editing=t.node}),clearEditing:(0,L.f0)({editing:e=>e.editing=null}),setPanning:(0,L.f0)({panning:e=>e.panning=!0}),clearPanning:(0,L.f0)({panning:e=>e.panning=!1}),setDragging:(0,L.f0)({dragging:(e,t)=>e.dragging=t.node}),clearDragging:(0,L.f0)({dragging:e=>e.dragging=null}),setDropping:(0,L.f0)({dropping:(e,t)=>e.dropping=t.node}),clearDropping:(0,L.f0)({dropping:e=>e.dropping=null}),setDetaching:(0,L.f0)({detaching:(e,t)=>e.detaching=t.detaching}),clearDetaching:(0,L.f0)({detaching:e=>e.detaching=[]}),setSelection:(0,L.f0)({selection:(e,t)=>e.selection=t.selection}),clearSelection:(0,L.f0)({selection:e=>e.selection=[]}),setLinking:(0,L.f0)({linking:(e,t)=>e.linking=t.node}),clearLinking:(0,L.f0)({linking:e=>e.linking=null})}});var R=z,O=n(60218);const Z={metadata:{id:"tutorial"},links:{aP1EHlKvrNgjPx1kElhZ0:{id:"aP1EHlKvrNgjPx1kElhZ0",source:"AHiu8yMyfhq5ZYnjuoIn0",target:"6Z-x843ah7e0b0fZMReph"},"WXCl7YDCOuoK-X7ZAOfEY":{id:"WXCl7YDCOuoK-X7ZAOfEY",source:"AHiu8yMyfhq5ZYnjuoIn0",target:"SALvRB6xX4hqjJVjU6Y_b"},F39NcKCnnIjtqGPzvoA1W:{id:"F39NcKCnnIjtqGPzvoA1W",source:"EwfSxmoKarx3n7W1mJy8s",target:"8N-6eZFYDRjV2MmtRHqZD"},IjnvakXbzDwcf84oBqYCb:{id:"IjnvakXbzDwcf84oBqYCb",source:"SALvRB6xX4hqjJVjU6Y_b",target:"aoHmIUmem-T3Zg_VOEvRr"},"KGeuXb3kocr6rZTAOr-i_":{id:"KGeuXb3kocr6rZTAOr-i_",source:"8N-6eZFYDRjV2MmtRHqZD",target:"wzwAxT0LV6sfNjOgv31fx"},"ps9k-tiBPP0cH9ymY4Myy":{id:"ps9k-tiBPP0cH9ymY4Myy",source:"JCnC9yAUfQ3IXvnj_THs8",target:"agP9N5iMMR8mJF1s5Wthr"},"jNo6CHcnaxjK7Bk4e-bAc":{id:"jNo6CHcnaxjK7Bk4e-bAc",source:"AHiu8yMyfhq5ZYnjuoIn0",target:"rxyYL1-vZysaZgRMzDXNU"},bPRss4q2Tvzn_ea1TY4Wr:{id:"bPRss4q2Tvzn_ea1TY4Wr",source:"rxyYL1-vZysaZgRMzDXNU",target:"jPkhyrgf3HOvPALhbfWYj"},CsKDxvFhIxKDk_m6Bj8Dh:{id:"CsKDxvFhIxKDk_m6Bj8Dh",source:"3nj7Xpr-AdGt3rKLomiK5",target:"anvYLObXrGTWIk8T3R2rq"},DTZkgJWGKYriyalyLJfZx:{id:"DTZkgJWGKYriyalyLJfZx",source:"EIB7xARz2ceZcpBkE940d",target:"anvYLObXrGTWIk8T3R2rq"},NBLwCo0fXhOXI6DGjqtWU:{id:"NBLwCo0fXhOXI6DGjqtWU",source:"3nj7Xpr-AdGt3rKLomiK5",target:"KsZsnbXyRuVqf3FKtK0BA"}},nodes:{AHiu8yMyfhq5ZYnjuoIn0:{id:"AHiu8yMyfhq5ZYnjuoIn0",type:"note",content:"<h1>Hello! Welcome to Intrigue 👋</h1><p></p><p>Using this app, you can quickly write down your ideas and corresponding references, and make your academic writing faster.</p>",links:["aP1EHlKvrNgjPx1kElhZ0","WXCl7YDCOuoK-X7ZAOfEY","jNo6CHcnaxjK7Bk4e-bAc"],parent:null,children:[],identifier:null,literature:null,x:558,y:99,w:445.00390000000004,currentX:558,currentY:99,currentWidth:445.00390000000004,currentHeight:75,h:79},SALvRB6xX4hqjJVjU6Y_b:{id:"SALvRB6xX4hqjJVjU6Y_b",type:"note",content:"<h2>This is a note.</h2><p></p><p>Notes comes with <strong>WYSIWYG markdown</strong> support.</p>",links:["WXCl7YDCOuoK-X7ZAOfEY","IjnvakXbzDwcf84oBqYCb"],parent:null,children:["rK2TqMSt-f9f784M19Vro"],identifier:null,literature:null,x:287,y:191,w:200,currentX:287,currentY:191,currentWidth:200,currentHeight:68},"rK2TqMSt-f9f784M19Vro":{id:"rK2TqMSt-f9f784M19Vro",type:"note",content:"<p>Notes can be <strong>snapped</strong> together, by dragging one onto another.</p>",links:[],parent:"SALvRB6xX4hqjJVjU6Y_b",children:[],identifier:null,literature:null,x:287,y:264,w:200,currentX:287,currentY:264,currentWidth:200,currentHeight:34},"6Z-x843ah7e0b0fZMReph":{id:"6Z-x843ah7e0b0fZMReph",type:"note",content:"<h2>Inspiration</h2><p></p><p>Intrigue is heavily inspired by&nbsp;<strong>Victor Margolin</strong>’s method of organizing research literature and writing, which makes use of note cards and literature canvases.</p>",links:["aP1EHlKvrNgjPx1kElhZ0"],parent:null,children:["8N-6eZFYDRjV2MmtRHqZD"],identifier:null,literature:null,x:615,y:239,w:329.0079,currentX:615,currentY:239,currentWidth:329.0079,currentHeight:82,h:86},"8N-6eZFYDRjV2MmtRHqZD":{id:"8N-6eZFYDRjV2MmtRHqZD",type:"reference",content:'<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.youtube.com/watch?v=Kxyy0THLfuI">https://www.youtube.com/watch?v=Kxyy0THLfuI</a></p>',links:["F39NcKCnnIjtqGPzvoA1W","KGeuXb3kocr6rZTAOr-i_"],parent:"6Z-x843ah7e0b0fZMReph",children:[],identifier:"https://www.youtube.com/watch?v=Kxyy0THLfuI",literature:null,x:615,y:326,w:329.0079,currentX:615,currentY:326,currentWidth:329.0079,currentHeight:62,referenceType:"url",title:"The process of writing World History of Design - YouTube",author:[{family:"Web link"}],record:{title:"The process of writing World History of Design - YouTube",author:[{family:"Web link"}],identifier:"https://www.youtube.com/watch?v=Kxyy0THLfuI"}},EwfSxmoKarx3n7W1mJy8s:{id:"EwfSxmoKarx3n7W1mJy8s",type:"note",content:"<p>This is a reference. Try double-clicking it!</p>",links:["F39NcKCnnIjtqGPzvoA1W"],parent:null,children:[],identifier:null,literature:null,x:995,y:268,w:129.00889999999998,currentX:995,currentY:268,currentWidth:129.00889999999998,currentHeight:34,h:38},"aoHmIUmem-T3Zg_VOEvRr":{id:"aoHmIUmem-T3Zg_VOEvRr",type:"reference",content:'<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax">https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax</a></p>',links:["IjnvakXbzDwcf84oBqYCb"],parent:null,children:[],identifier:"https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax",literature:null,x:113,y:362,w:200,currentX:113,currentY:362,currentWidth:200,currentHeight:117,referenceType:"url",title:"Basic writing and formatting syntax - GitHub Docs",author:[{family:"Web link"}],record:{title:"Basic writing and formatting syntax - GitHub Docs",author:[{family:"Web link"}],identifier:"https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax"}},wzwAxT0LV6sfNjOgv31fx:{id:"wzwAxT0LV6sfNjOgv31fx",type:"note",content:"<h2>References</h2><p></p><p>Many things can be <strong>automatically</strong> turned into reference notes, just by <strong>pasting in the identifiers</strong>:</p><p></p><ul><li><p>ISBN</p></li><li><p>DOI</p></li><li><p>Web Link</p></li><li><p>Zotero item link</p></li></ul>",links:["KGeuXb3kocr6rZTAOr-i_"],parent:null,children:["JCnC9yAUfQ3IXvnj_THs8"],identifier:null,literature:null,x:331,y:591,w:327.0079,currentX:331,currentY:591,currentWidth:327.0079,currentHeight:137,h:141},JCnC9yAUfQ3IXvnj_THs8:{id:"JCnC9yAUfQ3IXvnj_THs8",type:"reference",content:"<p>10.1561/1100000005</p>",links:["ps9k-tiBPP0cH9ymY4Myy"],parent:"wzwAxT0LV6sfNjOgv31fx",children:[],identifier:"10.1561/1100000005",literature:null,x:331,y:733,w:327.0079,currentX:331,currentY:733,currentWidth:327.0079,currentHeight:48,referenceType:"doi",title:"Human-Robot Interaction: A Survey",author:[{given:"Michael A.",family:"Goodrich",sequence:"first",affiliation:[]},{given:"Alan C.",family:"Schultz",sequence:"first",affiliation:[]}],record:{indexed:{"date-parts":[[2022,8,5]],"date-time":"2022-08-05T22:49:48Z",timestamp:1659739788859},"reference-count":0,publisher:"Now Publishers",issue:"3","content-domain":{domain:[],"crossmark-restriction":!1},"published-print":{"date-parts":[[2007]]},DOI:"10.1561/1100000005",type:"article-journal",created:{"date-parts":[[2008,2,5]],"date-time":"2008-02-05T19:23:58Z",timestamp:1202239438e3},page:"203-275",source:"Crossref","is-referenced-by-count":880,title:"Human-Robot Interaction: A Survey",prefix:"10.1561",volume:"1",author:[{given:"Michael A.",family:"Goodrich",sequence:"first",affiliation:[]},{given:"Alan C.",family:"Schultz",sequence:"first",affiliation:[]}],member:"432","container-title":"Foundations and Trends® in Human-Computer Interaction","original-title":[],language:"en",deposited:{"date-parts":[[2020,2,27]],"date-time":"2020-02-27T13:58:46Z",timestamp:1582811926e3},score:1,resource:{primary:{URL:"http://www.nowpublishers.com/article/Details/HCI-005"}},subtitle:[],"short-title":[],issued:{"date-parts":[[2007]]},"references-count":0,"journal-issue":{issue:"3","published-online":{"date-parts":[[2007]]},"published-print":{"date-parts":[[2007]]}},URL:"http://dx.doi.org/10.1561/1100000005",relation:{},ISSN:["1551-3955","1551-3963"],subject:["Computer Science Applications","Human-Computer Interaction"],"container-title-short":"FNT in Human-Computer Interaction",published:{"date-parts":[[2007]]},id:"temp_id_8637346830865666"}},agP9N5iMMR8mJF1s5Wthr:{id:"agP9N5iMMR8mJF1s5Wthr",type:"note",content:"<p>Try double-clicking me as well ;)</p>",links:["ps9k-tiBPP0cH9ymY4Myy"],parent:null,children:[],identifier:null,literature:null,x:543,y:826,w:200,currentX:543,currentY:826,currentWidth:200,currentHeight:20},jPkhyrgf3HOvPALhbfWYj:{id:"jPkhyrgf3HOvPALhbfWYj",type:"note",content:"<h2>Intrigue uses offline-first distributed collaborative editing.</h2><p></p><p>What does it mean? Let's break it down.</p>",links:["bPRss4q2Tvzn_ea1TY4Wr"],parent:null,children:["n7FUs3oUm4M1FZC-uHzsy"],identifier:null,literature:null,x:1158,y:222,w:366.0079,currentX:1158,currentY:222,currentWidth:366.0079,currentHeight:75,h:79},"rxyYL1-vZysaZgRMzDXNU":{id:"rxyYL1-vZysaZgRMzDXNU",type:"note",content:"<h2>↗️ See the button on the top-right corner?</h2><p></p><p>You can click it to get a web link, which you can share with others to collaborate.</p>",links:["jNo6CHcnaxjK7Bk4e-bAc","bPRss4q2Tvzn_ea1TY4Wr"],parent:null,children:[],identifier:null,literature:null,x:1158,y:101,w:366.0079,currentX:1158,currentY:101,currentWidth:366.0079,currentHeight:68,h:72},"n7FUs3oUm4M1FZC-uHzsy":{id:"n7FUs3oUm4M1FZC-uHzsy",type:"note",content:"<p><strong>Collaborative editing: </strong>You can edit this document together with other people over the internet.</p>",links:[],parent:"jPkhyrgf3HOvPALhbfWYj",children:["3nj7Xpr-AdGt3rKLomiK5"],identifier:null,literature:null,x:1158,y:302,w:366.0079,currentX:1158,currentY:302,currentWidth:366.0079,currentHeight:34},"3nj7Xpr-AdGt3rKLomiK5":{id:"3nj7Xpr-AdGt3rKLomiK5",type:"note",content:"<p><strong>Distributed:</strong> There's no central server that stores your data. Each collaborator holds their own copy, and they directly communicate with each other to keep in sync.</p>",links:["CsKDxvFhIxKDk_m6Bj8Dh","NBLwCo0fXhOXI6DGjqtWU"],parent:"n7FUs3oUm4M1FZC-uHzsy",children:["EIB7xARz2ceZcpBkE940d"],identifier:null,literature:null,x:1158,y:341,w:366.0079,currentX:1158,currentY:341,currentWidth:366.0079,currentHeight:48},EIB7xARz2ceZcpBkE940d:{id:"EIB7xARz2ceZcpBkE940d",type:"note",content:"<p><strong>Offline-first:</strong> Because each person has their own copy, you don't need to be online to edit this file. The updates you made will be sent to your collaborators the next time you are all online.</p>",links:["DTZkgJWGKYriyalyLJfZx"],parent:"3nj7Xpr-AdGt3rKLomiK5",children:[],identifier:null,literature:null,x:1158,y:394,w:366.0079,currentX:1158,currentY:394,currentWidth:366.0079,currentHeight:48},anvYLObXrGTWIk8T3R2rq:{id:"anvYLObXrGTWIk8T3R2rq",type:"note",content:"<h3>Intrigue uses SyncedStore and Yjs to keep you in sync.</h3><p></p><p>Under the hood, they use algorithms called CRDTs to ensure that all edits are merged correctly, even if made offline.</p>",links:["CsKDxvFhIxKDk_m6Bj8Dh","DTZkgJWGKYriyalyLJfZx"],parent:null,children:["8gRuWiQvD7HjW1v8PirRZ"],identifier:null,literature:null,x:921,y:546,w:383.00790000000006,currentX:921,currentY:546,currentWidth:383.00790000000006,currentHeight:64,h:68},"8gRuWiQvD7HjW1v8PirRZ":{id:"8gRuWiQvD7HjW1v8PirRZ",type:"reference",content:'<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://yjs.dev">https://yjs.dev</a></p>',links:[],parent:"anvYLObXrGTWIk8T3R2rq",children:["eGL9rPJ6hhTOecmHN1IPE"],identifier:"https://yjs.dev/",literature:null,x:921,y:615,w:383.00790000000006,currentX:921,currentY:615,currentWidth:383.00790000000006,currentHeight:48,referenceType:"url",title:"Yjs Shared Editing",author:[{family:"Web link"}],record:{title:"Yjs Shared Editing",author:[{family:"Web link"}],identifier:"https://yjs.dev/"}},eGL9rPJ6hhTOecmHN1IPE:{id:"eGL9rPJ6hhTOecmHN1IPE",type:"reference",content:'<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/yousefed/SyncedStore">https://github.com/yousefed/SyncedStore</a></p>',links:[],parent:"8gRuWiQvD7HjW1v8PirRZ",children:["cjmp78kq4aeWsiDHNm3be"],identifier:"https://github.com/yousefed/SyncedStore",literature:null,x:921,y:668,w:383.00790000000006,currentX:921,currentY:668,currentWidth:383.00790000000006,currentHeight:75,referenceType:"url",title:"GitHub - YousefED/SyncedStore: SyncedStore CRDT is an easy-to-use library for building live, collaborative applications that sync automatically.",author:[{family:"Web link"}],record:{title:"GitHub - YousefED/SyncedStore: SyncedStore CRDT is an easy-to-use library for building live, collaborative applications that sync automatically.",author:[{family:"Web link"}],identifier:"https://github.com/yousefed/SyncedStore"}},cjmp78kq4aeWsiDHNm3be:{id:"cjmp78kq4aeWsiDHNm3be",type:"reference",content:'<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://crdt.tech">https://crdt.tech</a></p>',links:[],parent:"eGL9rPJ6hhTOecmHN1IPE",children:["0gI1kCXM_izYBG9FjX-7T"],identifier:"https://crdt.tech/",literature:null,x:921,y:748,w:383.00790000000006,currentX:921,currentY:748,currentWidth:383.00790000000006,currentHeight:48,referenceType:"url",title:"About CRDTs • Conflict-free Replicated Data Types",author:[{family:"Web link"}],record:{title:"About CRDTs • Conflict-free Replicated Data Types",author:[{family:"Web link"}],identifier:"https://crdt.tech/"}},"0gI1kCXM_izYBG9FjX-7T":{id:"0gI1kCXM_izYBG9FjX-7T",type:"reference",content:'<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.inkandswitch.com/local-first/">https://www.inkandswitch.com/local-first/</a></p>',links:[],parent:"cjmp78kq4aeWsiDHNm3be",children:[],identifier:"https://www.inkandswitch.com/local-first/",literature:null,x:921,y:801,w:383.00790000000006,currentX:921,currentY:801,currentWidth:383.00790000000006,currentHeight:48,referenceType:"url",title:"Local-first software: You own your data, in spite of the cloud",author:[{family:"Web link"}],record:{title:"Local-first software: You own your data, in spite of the cloud",author:[{family:"Web link"}],identifier:"https://www.inkandswitch.com/local-first/"}},KsZsnbXyRuVqf3FKtK0BA:{id:"KsZsnbXyRuVqf3FKtK0BA",type:"note",content:"<p>This does mean that <strong>someone has to have the file open</strong> when a new person logs on, in order for the new person to get the file content.</p>",links:["NBLwCo0fXhOXI6DGjqtWU"],parent:null,children:[],identifier:null,literature:null,x:794,y:419,w:208.0079,currentX:794,currentY:419,currentWidth:208.0079,currentHeight:62,h:66},"7OSkqze_9QwSvHGy_F85x":{id:"7OSkqze_9QwSvHGy_F85x",type:"note",content:"<p>Snap me to the note above!</p>",links:[],parent:null,children:[],identifier:null,literature:null,x:287,y:308,w:200,currentX:287,currentY:308,currentWidth:200,currentHeight:20}},fragment:""};var _=Z,X=n(87139);const A={class:"titlebar-container"},M=(0,s.Uk)("Share"),$=(0,s.Uk)(" To save this document, bookmark this page or copy the share link → "),B=(0,s.Uk)("Share");function F(e,t,n,i,r,o){const a=(0,s.up)("icon-undo"),d=(0,s.up)("a-button"),c=(0,s.up)("icon-redo"),l=(0,s.up)("a-button-group"),u=(0,s.up)("a-col"),h=(0,s.up)("CopyButton"),p=(0,s.up)("a-row");return(0,s.wg)(),(0,s.iD)("div",A,[r.electron?((0,s.wg)(),(0,s.j4)(p,{key:0,class:"window noselect",justify:"center",align:"center"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{span:8},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{style:{"margin-left":"5rem"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{type:"text",size:"mini",disabled:!o.document.canUndo(),onClick:t[0]||(t[0]=e=>o.document.undo())},{icon:(0,s.w5)((()=>[(0,s.Wm)(a)])),_:1},8,["disabled"]),(0,s.Wm)(d,{type:"text",size:"mini",disabled:!o.document.canRedo(),onClick:t[1]||(t[1]=e=>o.document.redo())},{icon:(0,s.w5)((()=>[(0,s.Wm)(c)])),_:1},8,["disabled"])])),_:1})])),_:1}),(0,s.Wm)(u,{span:8,align:"center"},{default:(0,s.w5)((()=>[(0,s._)("b",null,(0,X.zw)(o.fileName),1)])),_:1}),(0,s.Wm)(u,{span:8,align:"right",style:{"padding-right":"0.5rem"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{size:"mini",text:o.shareLink},{default:(0,s.w5)((()=>[M])),_:1},8,["text"])])),_:1})])),_:1})):((0,s.wg)(),(0,s.j4)(p,{key:1,class:"browser noselect",justify:"center",align:"center"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{span:8},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{style:{"margin-left":"1rem"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{type:"text",size:"small",disabled:!o.document.canUndo(),onClick:t[2]||(t[2]=e=>o.document.undo())},{icon:(0,s.w5)((()=>[(0,s.Wm)(a)])),_:1},8,["disabled"]),(0,s.Wm)(d,{type:"text",size:"small",disabled:!o.document.canRedo(),onClick:t[3]||(t[3]=e=>o.document.redo())},{icon:(0,s.w5)((()=>[(0,s.Wm)(c)])),_:1},8,["disabled"])])),_:1})])),_:1}),(0,s.Wm)(u,{span:8,align:"center"},{default:(0,s.w5)((()=>[$])),_:1}),(0,s.Wm)(u,{span:8,align:"right",style:{"padding-right":"0.5rem"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{size:"small",text:o.shareLink},{default:(0,s.w5)((()=>[B])),_:1},8,["text"])])),_:1})])),_:1}))])}const U={key:1};function q(e,t,n,i,r,o){const a=(0,s.up)("a-button");return(0,s.wg)(),(0,s.j4)(a,{type:n.type,shape:n.shape,size:n.size,status:n.status,disabled:r.copied,onClick:o.copy},{default:(0,s.w5)((()=>[r.copied?((0,s.wg)(),(0,s.iD)("span",U,"Copied!")):(0,s.WI)(e.$slots,"default",{key:0})])),_:3},8,["type","shape","size","status","disabled","onClick"])}var K=n(77666),G={name:"CopyButton",props:{size:String,shape:String,type:String,status:String,text:String},data(){return{copied:!1,timer:null}},methods:{copy(){(0,K.Z)(this.text)?(this.copied=!0,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.copied=!1}),1e3)):this.$message.error("Error copying to clipboard!")}}},J=n(40089);const V=(0,J.Z)(G,[["render",q]]);var Q=V,ee={name:"TitleBar",inject:["store","document","selection","filePath"],components:{CopyButton:Q},data(){return{electron:c()(),newFile:!1}},mounted(){const e=window.location.search,t=new URLSearchParams(e);this.newFile=!t.get("document"),this.document.on("synced",(()=>{if(this.newFile){const e=new URL(window.location.href);e.searchParams.set("document",this.store.value.metadata.id),window.history.replaceState(null,null,e)}}))},computed:{fileName(){const{basename:e}=n(86554);return this.filePath.value?e(this.filePath.value):"Untitled"},shareLink(){return`https://intrigue-app.github.io/?document=${this.store.value.metadata.id}`}}};const te=(0,J.Z)(ee,[["render",F],["__scopeId","data-v-4f42f7a4"]]);var ne=te;const ie={style:{width:"100%",height:"100%"}},re={class:"viewport"},oe=(0,s._)("svg",{class:"links",id:"links",xmlns:"http://www.w3.org/2000/svg"},null,-1);function se(e,t,n,r,o,a){const d=(0,s.up)("IntrigueLink"),c=(0,s.up)("IntrigueNode"),l=(0,s.up)("Cursor"),u=(0,s.up)("Moveable"),h=(0,s.up)("vue-infinite-viewer"),p=(0,s.up)("VueSelecto");return(0,s.wg)(),(0,s.iD)("div",ie,[(0,s.Wm)(h,{class:"canvas",ref:"canvas",style:(0,X.j5)({"background-position":`${-e.x*e.zoom}px ${-e.y*e.zoom}px`,"background-size":`${13*e.zoom}px ${13*e.zoom}px`,"--resize-handle-height":`${e.activeNodeHeight}px`}),maxPinchWheel:10,onScroll:e.panCanvas,onPinch:e.zoomCanvas,onDblclick:e.newNode},{default:(0,s.w5)((()=>[(0,s._)("div",re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.store.value.links,(e=>((0,s.wg)(),(0,s.j4)(d,{key:e.id,ref_for:!0,ref:e.id,source:e.source,target:e.target},null,8,["source","target"])))),128)),e.linking.value?((0,s.wg)(),(0,s.j4)(d,{key:0,source:e.linking.value,target:"pointer-location"},null,8,["source"])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.store.value.nodes,(t=>((0,s.wg)(),(0,s.j4)(c,{key:t.id,ref_for:!0,ref:t.id,node:t,selected:e.selection.some((e=>e.id===t.id)),onClick:n=>e.tryLinking(t.id),onDblclick:(0,i.iM)((n=>e.doubleClickNode(t)),["stop"]),onUpdateDimensions:e.$refs.moveable.updateRect},null,8,["node","selected","onClick","onDblclick","onUpdateDimensions"])))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[e.document.localUser.id!==t.id?((0,s.wg)(),(0,s.j4)(l,{key:0,id:t.id,name:t.name,x:t.cursorX,y:t.cursorY},null,8,["id","name","x","y"])):(0,s.kq)("",!0)])))),128)),(0,s.Wm)(u,{ref:"moveable",className:"moveable",target:e.selection,draggable:!0,resizable:e.shouldResize,renderDirections:["e"],onClickGroup:e.cancelSelectionWhenClickEmpty,onDrag:e.dragNodes,onDragGroup:e.dragNodes,onDragEnd:e.commitNodePositions,onDragGroupEnd:e.commitNodePositions,onResize:e.resizeNode,onResizeEnd:e.commitNodeSize},null,8,["target","resizable","onClickGroup","onDrag","onDragGroup","onDragEnd","onDragGroupEnd","onResize","onResizeEnd"])])])),_:1},8,["style","onScroll","onPinch","onDblclick"]),(0,s.Wm)(p,{ref:"selecto",dragContainer:".canvas",selectableTargets:[".node.selectable"],selectByClick:!0,selectFromInside:!1,toggleContinueSelect:["shift"],keyContainer:e.window,hitRate:0,ratio:0,onDragStart:e.preventSelectionWhenDragging,onSelect:e.selectNode,onSelectEnd:e.commitSelections},null,8,["selectableTargets","keyContainer","onDragStart","onSelect","onSelectEnd"]),oe])}var ae=n(67391),de=n(41966),ce=n(10151),le=n(28773);class ue{constructor(){this.handlers=[]}on(e,t,n){const i={};i[t]=n;const r=(0,le.Le)(i);window.addEventListener(e,r),this.handlers.push({event:e,handler:r})}removeListeners(){this.handlers.forEach((e=>{window.removeEventListener(e.event,e.handler)}))}}const he=["id","color","gradient"];function pe(e,t,n,r,o,a){const d=(0,s.up)("note"),c=(0,s.up)("reference"),l=(0,s.up)("icon-link");return(0,s.wg)(),(0,s.iD)("div",{class:(0,X.C_)(["node",{selected:e.selection.value.includes(e.node.id),dropping:e.dropping.value===e.node.id,noselect:e.editing.value!==e.node.id,clickthrough:e.dragging.value&&e.selection.value.includes(e.node.id),selectable:!e.selectedByRemoteUsers,"remote-selected":e.selectedByRemoteUsers,"snap-top":!e.node.parent&&e.node.children.length>0,"snap-middle":e.node.parent&&e.node.children.length>0,"snap-bottom":e.node.parent&&0===e.node.children.length,reference:e.isReference}]),ref:"node",id:e.node.id,style:(0,X.j5)(e.styles),color:e.isReference?"primary":"white",gradient:e.isReference,onMouseenter:t[4]||(t[4]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onFocusin:t[5]||(t[5]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[6]||(t[6]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onFocusout:t[7]||(t[7]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},[e.isNote?((0,s.wg)(),(0,s.j4)(d,{key:0,id:e.node.id,content:e.node.content,editing:e.editing.value===e.node.id,onChange:e.parseNoteContent},null,8,["id","content","editing","onChange"])):(0,s.kq)("",!0),e.isReference?((0,s.wg)(),(0,s.j4)(c,{key:1,id:e.node.id,type:e.node.referenceType,identifier:e.node.identifier,title:e.node.title,author:e.node.author},null,8,["id","type","identifier","title","author"])):(0,s.kq)("",!0),e.showLinkButton?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"link-button",onMousedown:t[0]||(t[0]=(0,i.iM)((()=>{}),["stop"])),onMouseup:t[1]||(t[1]=(0,i.iM)((()=>{}),["stop"])),onDblclick:t[2]||(t[2]=(0,i.iM)((()=>{}),["stop"])),onClick:t[3]||(t[3]=(0,i.iM)(((...t)=>e.onLinkButtonClick&&e.onLinkButtonClick(...t)),["stop"]))},[(0,s.Wm)(l)],32)):(0,s.kq)("",!0)],46,he)}const ge={class:"note",ref:"note"};function me(e,t,n,i,r,o){const a=(0,s.up)("editor-content");return(0,s.wg)(),(0,s.iD)("div",ge,[(0,s.Wm)(a,{editor:e.editor},null,8,["editor"])],512)}var fe=n(25977),ye=n(16554),ve=n(12030),we=n(14885),ke=n(15941),be=(0,s.aZ)({name:"IntrigueNote",inject:["document","store","state","send"],components:{EditorContent:fe.kg},props:{id:String,content:String,editing:Boolean},data(){return{editor:null}},mounted(){this.editor=new fe.ML({content:this.content,extensions:[ye.Z,ve.ZP,we.Z.configure({protocols:["zotero"]})],autofocus:this.editing,editable:this.editing}),this.editor.on("blur",this.onEditorBlur)},beforeUnmount(){this.editor.destroy()},methods:{onEditorBlur(){this.send("editor blur"),"<p></p>"===this.editor.getHTML()?this.document.deleteNode(this.id):(this.document.commit("updateNode",{id:this.id,set:{content:this.editor.getHTML()}}),this.$emit("change",this.editor.getText()))}},watch:{content(){this.editor.commands.setContent(this.content)},editing(){this.editor.setEditable(this.editing),this.editing?(ke.log(`[Note][watch@editing] Editing: ${this.editing}, ${this.id}`),this.editor.commands.focus("end")):this.editor.commands.blur()}}});const De=(0,J.Z)(be,[["render",me]]);var xe=De;const Se=e=>((0,s.dD)("data-v-8d4a73d4"),e=e(),(0,s.Cn)(),e),je={class:"title"},Ne=(0,s.Uk)(),Ee=Se((()=>(0,s._)("br",null,null,-1))),Pe={class:"authors"},Ce=(0,s.Uk)(),We=Se((()=>(0,s._)("br",null,null,-1))),Ie={class:"identifier"};function Le(e,t,n,r,o,a){return(0,s.wg)(),(0,s.iD)("div",{class:"reference-content",ref:"reference",onDblclick:t[0]||(t[0]=(0,i.iM)(((...t)=>e.showFullText&&e.showFullText(...t)),["stop","prevent"]))},[(0,s._)("span",je,(0,X.zw)(e.title?e.title:"Fetching title..."),1),Ne,Ee,(0,s._)("span",Pe,(0,X.zw)(e.author?e.formatAuthors(e.author):"Fetching authors..."),1),Ce,We,(0,s._)("span",Ie,(0,X.zw)(e.identifier?e.identifier:""),1)],544)}var Te=(0,s.aZ)({name:"IntrigueReference",inject:["document","store","state","send"],components:{},props:{id:String,type:String,title:String,author:String,identifier:String},methods:{formatAuthors(e){let t="";return e.forEach(((n,i)=>{t+=n.family,i===e.length-2?t+=2===e.length?" and ":", and ":i<e.length-2&&(t+=", ")})),t},showFullText(){"zotero"===this.type||"zotero-link"===this.type?window.open(this.identifier):"doi"===this.type?window.open(`https://sci-hub.se/${this.data.identifier}`):"isbn"===this.type?window.open(`http://libgen.rs/search.php?req=${this.data.identifier}`):"url"===this.type&&window.open(this.identifier)}}});const He=(0,J.Z)(Te,[["render",Le],["__scopeId","data-v-8d4a73d4"]]);var Ye=He,ze=n(71466),Re=n(9841),Oe=n(20553),Ze=n.n(Oe),_e=n(56265),Xe=n.n(_e),Ae=n(15941);function Me(e){const t=/^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/;if(t.test(e)){const n=e.replace(/[- ]|^ISBN(?:-1[03])?:?/g,"").split(""),i=n.pop();let r,o,s=0;if(9===n.length){for(n.reverse(),o=0;o<n.length;o+=1)s+=(o+2)*parseInt(n[o],10);r=11-s%11,10===r?r="X":11===r&&(r="0")}else{for(o=0;o<n.length;o+=1)s+=(o%2*2+1)*parseInt(n[o],10);r=10-s%10,10===r&&(r="0")}if(r===i){const n=e.match(t)[0];return n}}return!1}function $e(e){const t=Me(e);if(t&&t===e.trim())return{type:"isbn",identifier:t};const n=Re.extract(e);if(n.length>0&&n[0]===e.trim())return{type:"doi",identifier:n[0]};try{const t=JSON.parse(e);if("zotero"===t.source)return{type:"zotero",identifier:t.url,...t}}catch(o){}const i=ze.sE(e,"url").filter((e=>e.value.startsWith("zotero://")));if(1===i.length&&i[0].value===e.trim())return{type:"zotero-link",identifier:i[0].href};const r=ze.sE(e,"url");return 1===r.length&&r[0].value===e.trim()&&{type:"url",identifier:r[0].href}}function Be(e,t){return Ae.log(`[Literature][fetchLiteratureInfo] type: ${e}, identifier: ${t}`),new Promise(((n,i)=>{"url"===e?Xe().get(t).then((e=>{const t=e.data.match(/<title>(.*?)<\/title>/);n({title:t[1],author:[{family:"Web link"}],identifier:e.request.responseURL})})).catch((e=>{i(e)})):new(Ze().async)(t,(e=>{const t=e.data[0];delete t._graph,n(JSON.parse(JSON.stringify(t)))}))}))}var Fe=n(15941),Ue=(0,s.aZ)({name:"IntrigueNode",inject:["document","store","state","send","editing","dragging","dropping","selection"],components:{Note:xe,Reference:Ye},props:{node:{type:Object,required:!0},selected:{type:Boolean,default:!1}},data(){return this.document.localData.nodes[this.node.id]||(this.document.localData.nodes[this.node.id]={currentX:this.node.x,currentY:this.node.y,currentWidth:this.node.w,currentHeight:this.node.h}),{x:this.node.x,y:this.node.y,w:this.node.w,h:this.node.h,localData:this.document.localData.nodes[this.node.id],parent:null,parentLocalData:null,commitTimer:null}},methods:{onMouseEnter(){this.send({type:"drop enter",node:this.node.id})},onMouseLeave(){this.send({type:"drop leave",node:this.node.id})},onLinkButtonClick(){this.send("start linking",{node:this.node.id})},observeParent(){this.parentLocalData=this.document.localData.nodes[this.parent.id],this.parentWatchers=[this.$watch("parentLocalData.currentX",this.updateDimensionsFromParent),this.$watch("parentLocalData.currentY",this.updateDimensionsFromParent),this.$watch("parentLocalData.currentWidth",this.updateDimensionsFromParent),this.$watch("parentLocalData.currentHeight",this.updateDimensionsFromParent)]},updateDimensions(){this.$refs.node&&(this.localData.currentHeight=this.$refs.node.clientHeight,this.$emit("update-dimensions"))},updateDimensionsFromParent(){this.localData.currentX=this.parentLocalData.currentX,this.localData.currentY=this.parentLocalData.currentY+this.parentLocalData.currentHeight+5,this.localData.currentWidth=this.parentLocalData.currentWidth,this.localData.currentHeight=this.$refs.node.clientHeight,this.commitTimer&&clearTimeout(this.commitTimer),this.commitTimer=setTimeout(this.commitUpdatedDimensions,300)},commitUpdatedDimensions(){this.document.updateNode({id:this.node.id,set:{x:this.localData.currentX,y:this.localData.currentY}})},parseNoteContent(e){const t=$e(e);t&&(Fe.log(`[Node][parseNoteContent@extractIdentifier] ${JSON.stringify(t)}`),this.document.commit("updateNode",{id:this.node.id,set:{type:P.Reference,identifier:t.identifier,referenceType:t.type}}),"zotero"===t.type?this.document.commit("updateNode",{id:this.node.id,set:{title:t.title,author:t.author,identifier:t.identifier,record:t}}):"zotero-link"===t.type?this.document.commit("updateNode",{id:this.node.id,set:{title:void 0,author:void 0,identifier:t.identifier,record:t}}):Be(t.type,t.identifier).then((e=>{Fe.log(`[Node][parseNoteContent@fetchLiteratureInfo] ${e}`),this.document.commit("updateNode",{id:this.node.id,set:{title:e.title,author:e.author,identifier:e.identifier?e.identifier:t.identifier,record:e}})})))}},mounted(){this.observer=new ResizeObserver(this.updateDimensions),this.observer.observe(this.$refs.node),this.localData.currentX=this.node.x,this.localData.currentY=this.node.y,this.localData.currentHeight=this.node.h?this.node.h:this.$refs.node.clientHeight,this.node.parent&&(this.parent=this.store.value.nodes[this.node.parent],this.observeParent(),this.updateDimensionsFromParent())},breforeUnmount(){Fe.log("[Node][breforeUnmount] Unmounting",this.node.id),this.observer.disconnect(),this.parentWatchers.forEach((e=>e()))},deactivated(){Fe.log("[Node][deactivated] Deactivated",this.node.id),this.observer.disconnect(),this.parentWatchers.forEach((e=>e()))},computed:{styles(){return{width:`${this.w}px`,transform:`translate(${this.x}px, ${this.y}px)`,"--bg-color":"rgb(250, 248, 229)","--border-color":"rgb(233, 183, 109)"}},selectedByRemoteUsers(){let e=!1;return Object.entries(this.document.users).some((([t,n])=>t!==this.document.userId&&(!!n.selection.includes(this.node.id)&&(e=!0,!0)))),e},isNote(){return this.node.type===P.Note},isReference(){return this.node.type===P.Reference},showLinkButton(){return 1===this.selection.value.length&&!!this.selection.value.includes(this.node.id)}},watch:{"localData.currentX":function(){this.x=this.localData.currentX},"localData.currentY":function(){this.y=this.localData.currentY},"localData.currentWidth":function(){this.w=this.localData.currentWidth},"node.x":function(){this.localData.currentX=this.node.x},"node.y":function(){this.localData.currentY=this.node.y},"node.w":function(){this.localData.currentWidth=this.node.w},"node.parent":function(){this.node.parent?(this.parent=this.store.value.nodes[this.node.parent],this.observeParent(),this.updateDimensionsFromParent()):(this.parent=null,this.parentWatchers.forEach((e=>e())),this.parentWatchers=[],this.parentLocalData=null)}}});const qe=(0,J.Z)(Ue,[["render",pe]]);var Ke=qe;const Ge=["width","height"],Je={ref:"arrow",style:{"pointer-events":"auto"}},Ve=["d","stroke","stroke-width"],Qe=["points","transform","fill"];function et(e,t,n,i,r,o){return(0,s.wg)(),(0,s.iD)("svg",{class:"link",xmlns:"http://www.w3.org/2000/svg",width:r.width,height:r.height,style:(0,X.j5)({left:`${r.left}px`,top:`${r.top}px`})},[(0,s._)("g",Je,[(0,s._)("path",{style:{cursor:"pointer"},d:`M ${r.sx} ${r.sy}C ${r.c1x} ${r.c1y},${r.c2x} ${r.c2y},${r.ex} ${r.ey}`,stroke:n.color,"stroke-width":n.arrowHeadSize/3,fill:"none"},null,8,Ve),(0,s._)("polygon",{points:`0,${-n.arrowHeadSize} ${2*n.arrowHeadSize},0,\n                          0,${n.arrowHeadSize}`,transform:`translate(${r.ex}, ${r.ey}) rotate(${r.ae})`,fill:n.color},null,8,Qe)],512)],12,Ge)}var tt=n(64041),nt=n(15941),it={name:"IntrigueLink",inject:["document","store","x","y","zoom"],props:{source:{type:String,required:!0},target:{type:String,required:!0},text:{type:String,default:""},color:{type:String,default:"#9A9A9B"},arrowHeadSize:{type:Number,default:4}},data(){const e=this.document.localData.nodes[this.source],t=this.document.localData.nodes[this.target];return t||window.addEventListener("mousemove",this.updateLine),{sourceNode:e,targetNode:t,sx:0,sy:0,c1x:0,c1y:0,c2x:0,c2y:0,ex:0,ey:0,ae:0,as:0,top:0,left:0,width:100,height:100}},mounted(){this.$refs.arrow.addEventListener("click",this.onClick),this.updateLine()},beforeUnmount(){window.removeEventListener("mousemove",this.updateLine)},methods:{onClick(){nt.log("click")},updateLine(){const e=document.querySelector(`[id="${this.source}"]`),t=document.querySelector(`[id="${this.target}"]`),n=this.getBoundingBox(e,this.sourceNode),i=this.getBoundingBox(t,this.targetNode),[r,o,s,a,d,c,l,u,h]=(0,tt.g)(n.x,n.y,n.w,n.h,i.x,i.y,i.w,i.h,{padEnd:this.arrowHeadSize}),p=Math.min(n.x,i.x),g=Math.max(n.x+n.w,i.x+i.w),m=Math.min(n.y,i.y),f=Math.max(n.y+n.h,i.y+i.h);this.left=p,this.width=g-p,this.top=m,this.height=f-m,this.sx=r-p,this.sy=o-m,this.c1x=s-p,this.c1y=a-m,this.c2x=d-p,this.c2y=c-m,this.ex=l-p,this.ey=u-m,this.ae=h},mapX(e){return(e-this.x.value)*this.zoom.value},mapY(e){return(e-this.y.value)*this.zoom.value},getBoundingBox(e,t){const n=e.getBoundingClientRect(),i=getComputedStyle(e),r=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight);return{x:t?t.currentX:n.x/this.zoom.value+this.x.value,y:t?t.currentY:n.y/this.zoom.value+this.y.value,w:t?t.currentWidth+r:n.width/this.zoom.value,h:e.offsetHeight-2}}},watch:{sourceNode:{deep:!0,handler(){this.updateLine()}},targetNode:{deep:!0,handler(){this.updateLine()}}}};const rt=(0,J.Z)(it,[["render",et],["__scopeId","data-v-1bc3dcbd"]]);var ot=rt;const st=e=>((0,s.dD)("data-v-63ef1738"),e=e(),(0,s.Cn)(),e),at=st((()=>(0,s._)("img",{class:"arrow",src:"/cursor.svg",alt:"Arrow"},null,-1)));function dt(e,t,n,i,r,o){const a=(0,s.up)("Avatar");return(0,s.wg)(),(0,s.iD)("div",{class:"cursor",style:(0,X.j5)({transform:`translate(${e.x}px, ${e.y}px)`})},[at,(0,s.Wm)(a,{class:"avatar",variant:"beam",name:e.name,size:20},null,8,["name"])],4)}var ct=n(8729),lt=(0,s.aZ)({name:"IntrigueCursor",components:{Avatar:ct.Z},props:{id:String,name:String,x:Number,y:Number}});const ut=(0,J.Z)(lt,[["render",dt],["__scopeId","data-v-63ef1738"]]);var ht=ut,pt=n(15941),gt=(0,s.aZ)({name:"IntrigueCanvas",inject:["document","store","state","send","editing","dragging","dropping","detaching","linking"],components:{VueInfiniteViewer:ae.Q,Moveable:de.ZP,VueSelecto:ce.y,IntrigueNode:Ke,IntrigueLink:ot,Cursor:ht},provide(){return{x:(0,s.Fl)((()=>this.x)),y:(0,s.Fl)((()=>this.y)),zoom:(0,s.Fl)((()=>this.zoom))}},data(){return{x:0,y:0,zoom:1,selection:[],keyboard:new ue}},methods:{newNode(e){const t=this.mapMousePosition(e.clientX,e.clientY),n=(0,p.x0)();this.document.commit("createNode",{id:n,type:P.Note,content:"",x:t.x-14,y:t.y-10,w:200,h:15}),this.send({type:"create node",node:n})},doubleClickNode(e){this.send({type:"dblclick node",node:e.id})},deleteNodes(e){if(this.editing.value)return;const t=this.selection.map((e=>e.id));pt.log(`[Canvas][deleteNodes] ${t}`),this.selection=[],this.send("delete node"),this.document.commit("deleteNodes",t),e.preventDefault()},undo(e){null===this.editing.value&&(this.document.undo(),e.preventDefault())},redo(e){null===this.editing.value&&(this.document.redo(),e.preventDefault())},panCanvas(e){this.x=e.scrollLeft,this.y=e.scrollTop,this.document.updateAwareness("x",this.x),this.document.updateAwareness("y",this.y)},zoomCanvas(e){this.zoom=e.zoom,this.$refs.canvas.setZoom(e.zoom)},cancelSelectionWhenClickEmpty(e){this.$refs.selecto.clickTarget(e.inputEvent,e.inputTarget)},sendDragStartMessage(e){!e.events&&e.target?this.send({type:"start dragging",node:e.target.id}):e.targets&&(e.target.classList.add("clickthrough"),e.targets.some((t=>{const n=t.getBoundingClientRect();return!(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)||(this.send({type:"start dragging",node:t.id}),!1)})))},dragNodes(e){let t;this.sendDragStartMessage(e),!e.events&&e.target?t=[e]:e.events&&(t=e.events);const n=t.map((e=>this.store.value.nodes[e.target.id])),i=t.map((e=>e.target.id)),r=[];if(n.forEach((e=>{e.parent&&!i.includes(e.parent)&&r.push({source:e.parent,target:e.id})})),r.length>0){this.send({type:"start detaching",detaching:r});const t=Math.sqrt(e.dist[0]*e.dist[0]+e.dist[1]*e.dist[1]);if(!(t>30))return;this.send("detached"),r.forEach((e=>{this.document.commit("unsnapNode",e)}))}t.forEach((e=>{const t=this.store.value.nodes[e.target.id];t.parent||(this.document.localData.nodes[e.target.id]||(this.document.localData.nodes[e.target.id]={}),this.document.localData.nodes[e.target.id].currentX=e.translate[0],this.document.localData.nodes[e.target.id].currentY=e.translate[1])}))},commitNodePositions(e){if(this.dropping.value&&(pt.log("[Canvas][commitNodePositions] Dropping",this.dragging.value,"on",this.dropping.value),this.document.commit("snapNode",{source:this.dropping.value,target:this.dragging.value}),this.send("stop dragging")),this.detaching.value.length>0)return pt.log("[Canvas][commitNodePositions] Detaching ended halfway."),void this.send("stop detaching");if(e.lastEvent){e.lastEvent.target&&e.lastEvent.target.classList.remove("clickthrough");const t=[];this.selection.forEach((e=>{const n=this.store.value.nodes[e.id];n.parent||t.push(e.id)})),this.document.commit("updateNodes",{id:t,by:{x:e.lastEvent.dist[0],y:e.lastEvent.dist[1]}})}this.send("stop dragging")},preventSelectionWhenDragging(e){const{target:t}=e.inputEvent;(this.$refs.moveable.isMoveableElement(t)||this.selection.some((e=>e===t||e.contains(t))))&&e.stop()},tryLinking(e){if(this.linking.value&&e!==this.linking.value){pt.log(`[Canvas][selectNode] Linking ${this.linking.value} to ${e}`);const t=this.document.findLinkByNodeIds(this.linking.value,e);t?this.document.commit("removeLink",t):this.document.commit("createLink",{source:this.linking.value,target:e})}},selectNode(e){this.linking.value&&e.selected.length>0||this.send({type:"update selection",selection:e.selected.map((e=>e.id))})},commitSelections(e){e.isDragStart&&(e.inputEvent.preventDefault(),setTimeout((()=>{this.$refs.moveable.dragStart(e.inputEvent)}))),this.selection=e.selected;const t=e.selected.map((e=>e.id));this.document.updateAwareness("selection",t),this.send({type:"done selecting",selection:t})},resizeNode(e){const{target:t}=e;t.style.width=`${e.width}px`,this.document.updateNode({id:e.target.id,set:{currentWidth:e.width}})},commitNodeSize(e){e.lastEvent&&this.document.commit("updateNode",{id:e.target.id,set:{w:e.lastEvent.width,h:e.target.offsetHeight}})},mapMousePosition(e,t){const n=e/this.zoom+this.x,i=t/this.zoom+this.y;return{x:n,y:i}},gatherDescendants(e,t){const n=t?new Set([e.id]):new Set;return e.children.forEach((e=>{const t=this.store.value.nodes[e],i=this.gatherDescendants(t,!0);i.forEach((e=>{n.add(e)}))})),[...n]},updateCursorPosition(e){const t=this.mapMousePosition(e.clientX,e.clientY);this.document.updateAwareness("cursorX",t.x),this.document.updateAwareness("cursorY",t.y)},startPanning(e){this.editing||(pt.log("[Canvas][startPanning] Space pressed.",e),this.send("space pressed"),e.preventDefault(),e.stopPropagation())},stopPanning(e){this.editing||(pt.log("[Canvas][startPanning] Space released.",e),this.send("space released"),e.preventDefault())}},computed:{activeNodeHeight(){if(this.selection.length>0){const e=this.store.value.nodes[this.selection[0].id];return e?e.currentHeight?e.currentHeight<=20?e.currentHeight-8:e.currentHeight-12:this.selection[0].clientHeight:0}return 0},shouldResize(){return 1===this.selection.length&&(!!this.store.value.nodes[this.selection[0].id]&&!this.store.value.nodes[this.selection[0].id].parent)}},mounted(){window.addEventListener("mousemove",this.updateCursorPosition),this.keyboard.on("keydown","Space",this.startPanning),this.keyboard.on("keyup","Space",this.stopPanning),this.keyboard.on("keydown","Backspace",this.deleteNodes),this.keyboard.on("keydown","$mod+Z",this.undo),this.keyboard.on("keydown","$mod+Shift+Z",this.redo),this.document.on("synced",(()=>{this.document.updateAwareness("selection",[])}))},beforeUnmount(){window.removeEventListener("mousemove",this.updateCursorPosition),this.keyboard.removeListeners()}});const mt=(0,J.Z)(gt,[["render",se]]);var ft=mt;function yt(e,t,n,i,r,o){return(0,s.wg)(),(0,s.iD)("div",{id:"pointer-location",style:(0,X.j5)({left:`${r.x}px`,top:`${r.y}px`})},null,4)}var vt={name:"PointerTracker",data(){return{x:0,y:0}},mounted(){window.addEventListener("mousemove",(e=>{this.x=e.clientX+2,this.y=e.clientY+2}))}};const wt=(0,J.Z)(vt,[["render",yt],["__scopeId","data-v-0fb01106"]]);var kt=wt;const bt=(0,s.Uk)("Import Data"),Dt=(0,s.Uk)("Export Data"),xt=(0,s.Uk)(" Import JSON data ");function St(e,t,n,i,r,o){const a=(0,s.up)("a-button"),d=(0,s.up)("a-space"),c=(0,s.up)("a-textarea"),l=(0,s.up)("a-modal"),u=(0,s.up)("a-card");return(0,s.wg)(),(0,s.j4)(u,{class:"debug-view"},{default:(0,s.w5)((()=>[(0,s._)("div",null,(0,X.zw)(o.currentState),1),(0,s._)("pre",null,(0,X.zw)(o.currentContext),1),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(a,{onClick:t[0]||(t[0]=e=>r.showImportModal=!0)},{default:(0,s.w5)((()=>[bt])),_:1}),(0,s.Wm)(a,{onClick:o.exportJSON},{default:(0,s.w5)((()=>[Dt])),_:1},8,["onClick"])])),_:1}),(0,s.Wm)(l,{visible:r.showImportModal,"onUpdate:visible":t[2]||(t[2]=e=>r.showImportModal=e),onOk:o.importJSON,onCancel:t[3]||(t[3]=e=>r.jsonData="")},{title:(0,s.w5)((()=>[xt])),default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(c,{modelValue:r.jsonData,"onUpdate:modelValue":t[1]||(t[1]=e=>r.jsonData=e),placeholder:"Paste JSON data here","allow-clear":""},null,8,["modelValue"])])])),_:1},8,["visible","onOk"])])),_:1})}var jt=n(11012),Nt=n(15941),Et={name:"IntrigueDebug",inject:["document","state","store"],data(){return{showImportModal:!1,jsonData:""}},methods:{exportJSON(){Nt.log(JSON.stringify(this.store.value))},importJSON(){const e=JSON.parse(this.jsonData);this.document.store=(0,h.qj)(e),this.document.unbindSyncHandler&&this.document.unbindSyncHandler(),this.document.unbindCommitHandler&&(this.document.unbindCommitHandler(),this.document.unbindCommitHandler=this.document.on("commit",this.document.commitToSyncedData.bind(this.document))),Object.keys(e.metadata).forEach((t=>{this.document.syncedData.metadata[t]=e.metadata[t]})),Object.keys(e.nodes).forEach((t=>{this.document.syncedData.nodes[t]=e.nodes[t]})),Object.keys(e.links).forEach((t=>{this.document.syncedData.links[t]=e.links[t]})),this.showImportModal=!1}},computed:{currentState(){return(0,jt.Pz)(this.state.value.value)},currentContext(){return(0,jt.Pz)(this.state.value.context)}}};const Pt=(0,J.Z)(Et,[["render",St],["__scopeId","data-v-57a6ff16"]]);var Ct=Pt,Wt=n(15941),It={name:"App",components:{TitleBar:ne,DocumentCanvas:ft,PointerTracker:kt,Debug:Ct},data(){const e=new W;return{document:e,store:e.store,users:[],loading:!0,debug:!1,title:"",docId:void 0,filePath:void 0}},provide(){const e={document:this.document,store:(0,s.Fl)((()=>this.document.store)),state:(0,s.Fl)((()=>this.state)),send:this.send,filePath:(0,s.Fl)((()=>this.filePath))};return Object.keys(this.state.context).forEach((t=>{e[t]=(0,s.Fl)((()=>this.state.context[t]))})),e},setup(){c()()&&n.e(798).then(n.t.bind(n,72798,23)).then((e=>{Object.assign(Wt,e.functions),e.catchErrors()}));const{state:e,send:t}=(0,O.e)(R);return{state:e,send:t}},methods:{broadcastUsername(){const e=u()("en",{maxWords:1});this.document.updateAwareness("name",`Anonymous ${e}`)}},mounted(){if(this.document.on("synced",(()=>{this.broadcastUsername(),this.loading=!1})),this.document.on("commit",(()=>{c()()&&n.e(916).then(n.t.bind(n,18916,23)).then((({ipcRenderer:e})=>{e.send("set-edited",!0)}))})),this.document.on("saved",(()=>{this.$message.success("Saved!"),c()()&&n.e(916).then(n.t.bind(n,18916,23)).then((({ipcRenderer:e})=>{e.send("set-edited",!1)}))})),window.addEventListener("keydown",(e=>{"Space"===e.code&&e.target===document.body&&e.preventDefault()})),c()())n.e(916).then(n.t.bind(n,18916,23)).then((({ipcRenderer:e})=>{e.invoke("get-packaged").then((e=>{Wt.log(`[App][ipcRenderer@get-packaged] ${e}`),this.debug=!e})),e.on("new-file",(()=>{Wt.log("[App][ipcRenderer@set-filepath] This is a new empty file."),this.document.initSync()})),e.on("set-filepath",((e,t,n)=>{Wt.log(`[App][ipcRenderer@set-filepath] filePath is ${t}.`),this.filePath=t,this.document.initPersistence(t,n)})),e.on("save-file",(()=>{Wt.log("[App][ipcRenderer@save-file] Manual save to disk."),this.document.saveToDisk()}))}));else{const e=window.location.search,t=new URLSearchParams(e);Wt.log(`[App][mounted] urlParams.document is ${t.get("document")}`),this.document.initSync(t.get("document")),"tutorial"===t.get("document")?(Wt.log("[App][mounted@web] Loading tutorial data..."),Object.keys(_.nodes).forEach((e=>{this.store.nodes[e]=_.nodes[e]})),Object.keys(_.links).forEach((e=>{this.store.links[e]=_.links[e]}))):this.document.initPersistence(t.get("document"))}},beforeUnmount(){Wt.log("[App][beforeUnmount] Closing document..."),this.document.close(),Wt.log("[App][beforeUnmount] Document closed.")},watch:{"document.users":{deep:!0,handler(){const e=[];Object.keys(this.document.users).forEach((t=>{e.push(this.document.users[t])})),this.users=e}},"document.metadata.name":{deep:!0,handler(){this.title=this.document.metadata.name}}}};const Lt=(0,J.Z)(It,[["render",a]]);var Tt=Lt;const Ht=(0,i.ri)(Tt);Ht.use(r.Z),Ht.use(o.Z),Ht.mount("#app")},21510:function(){}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.c=t,function(){var e=[];n.O=function(t,i,r,o){if(!i){var s=1/0;for(l=0;l<e.length;l++){i=e[l][0],r=e[l][1],o=e[l][2];for(var a=!0,d=0;d<i.length;d++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[d])}))?i.splice(d--,1):(a=!1,o<s&&(s=o));if(a){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[i,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return i[e]}}));return s["default"]=function(){return i},n.d(o,s),o}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{798:"31edf351",916:"0ebf039b"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="intrigue:";n.l=function(i,r,o,s){if(e[i])e[i].push(r);else{var a,d;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+o){a=u;break}}a||(d=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=i),e[i]=[r];var h=function(t,n){a.onerror=a.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),d&&document.head.appendChild(a)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=o);var s=n.p+n.u(t),a=new Error,d=function(i){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}};n.l(s,d,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,o,s=i[0],a=i[1],d=i[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(d)var l=d(n)}for(t&&t(i);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},i=self["webpackChunkintrigue"]=self["webpackChunkintrigue"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(n.s=10260)}));i=n.O(i)})();
//# sourceMappingURL=app.bdb5736c.js.map